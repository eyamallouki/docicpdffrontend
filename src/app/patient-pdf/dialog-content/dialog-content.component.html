<div class="container">
  <div class="file-list">
    <!-- PDF Files Section -->
    <div *ngIf="data.fileType === 'PDF'" class="scrollable-table">
      <div class="pdf-icon-container">
        <img class="pdf-icon" src="https://www.svgrepo.com/show/66745/pdf.svg" alt="PDF Icon">
      </div>
      <br>
      <ul class="responsive-table">
        <li class="table-header pdf-header">
          <div class="col col-1">Title</div>
          <div class="col col-2">Total Pages</div>
          <div class="col col-3">Category</div>
          <div class="col col-4">Status</div>
          <div class="col col-6">Actions</div>
        </li>
        <li *ngFor="let file of pdfFiles.slice((p-1)*3, p*3)" class="table-row pdf-row">
          <div class="col col-1" data-label="Title">{{ file.titre }}</div>
          <div class="col col-2" data-label="Total Pages">{{ file.total_pages }}</div>
          <div class="col col-3" data-label="Category">{{ file.categorie }}</div>
          <div class="col col-4" data-label="Status">{{ file.etat }}</div>
          <div class="col col-6" data-label="Actions">
            <button class="icon-button" (click)="viewPdf(file.file)">
              <i class="fas fa-eye"></i> View
            </button>
            <button class="icon-buttonp" (click)="deletePdf(file.id)">
              <i class="fas fa-trash"></i> Delete
            </button>
          </div>
        </li>
      </ul>
      <div class="file-viewer" *ngIf="pdfViewerVisible">
        <button (click)="closePdfViewer()">Close</button>
        <ngx-extended-pdf-viewer
          *ngIf="pdfViewerVisible && selectedPdfUrl"
          [src]="selectedPdfUrl"
          useBrowserLocale="true"
          height="80vh"
          (error)="onPdfLoadError($event)"
          [showZoomButtons]="true"
          [showFindButton]="true"
          [showPresentationModeButton]="true"
          [showDownloadButton]="true"
          [showPrintButton]="true"
          [zoom]="40.0">
        </ngx-extended-pdf-viewer>
      </div>
      <pagination-controls (pageChange)="onPageChange($event)" class="pagination"></pagination-controls>
    </div>
    
    <!-- JPG Files Section -->
    <div *ngIf="data.fileType === 'JPG'" class="scrollable-table">
      <div class="pdf-icon-container">
        <img class="pdf-icon" src="https://www.svgrepo.com/show/19982/jpg.svg" alt="JPG Icon">
      </div>
      <br>
      <ul class="responsive-table">
        <li class="table-header jpg-header">
          <div class="col col-1">Title</div>
          <div class="col col-2">Total Pages</div>
          <div class="col col-3">Category</div>
          <div class="col col-4">Status</div>
          <div class="col col-5">Actions</div>
        </li>
        <li *ngFor="let file of jpgFiles.slice((p-1)*3, p*3)" class="table-row jpg-row">
          <div class="col col-1" data-label="Title">{{ file.titre }}</div>
          <div class="col col-2" data-label="Total Pages">{{ file.total_pages }}</div>
          <div class="col col-3" data-label="Category">{{ file.categorie }}</div>
          <div class="col col-4" data-label="Status">{{ file.etat }}</div>
          <div class="col col-5" data-label="Actions">
            <button class="icon-button" (click)="viewImage(file.file)">
              <i class="fas fa-eye"></i> View
            </button>
            <button class="icon-buttonp" (click)="deletePdf(file.id)">
              <i class="fas fa-trash"></i> Delete
            </button>
          </div>
        </li>
      </ul>
      <pagination-controls (pageChange)="onPageChange($event)" class="pagination"></pagination-controls>
      <div *ngIf="selectedImageUrl" class="image-viewer-modal">
        <div class="image-viewer-content">
          <button class="close-button" (click)="closeImageViewer()">
            <i class="fas fa-times"></i>
          </button>
          <img [src]="selectedImageUrl" class="full-view-image" alt="Selected Image">
        </div>
      </div>
    </div>

    <!-- PNG Files Section -->
    <div *ngIf="data.fileType === 'PNG'" class="scrollable-table">
      <div class="pdf-icon-container">
        <img class="pdf-icon" src="https://www.svgrepo.com/show/134155/png.svg" alt="PNG Icon">
      </div>
      <br>
      <ul class="responsive-table">
        <li class="table-header png-header">
          <div class="col col-1">Title</div>
          <div class="col col-2">Total Pages</div>
          <div class="col col-3">Category</div>
          <div class="col col-4">Status</div>
          <div class="col col-5">Actions</div>
        </li>
        <li *ngFor="let file of pngFiles.slice((p-1)*3, p*3)" class="table-row png-row">
          <div class="col col-1" data-label="Title">{{ file.titre }}</div>
          <div class="col col-2" data-label="Total Pages">{{ file.total_pages }}</div>
          <div class="col col-3" data-label="Category">{{ file.categorie }}</div>
          <div class="col col-4" data-label="Status">{{ file.etat }}</div>
          <div class="col col-5" data-label="Actions">
            <button class="icon-button" (click)="viewImage(file.file)">
              <i class="fas fa-eye"></i> View
            </button>
            <button class="icon-buttonp" (click)="deletePdf(file.id)">
              <i class="fas fa-trash"></i> Delete
            </button>
          </div>
        </li>
      </ul>
      <pagination-controls (pageChange)="onPageChange($event)" class="pagination"></pagination-controls>
    </div>

    <!-- Image Viewer Modal -->
    <div *ngIf="selectedImageUrl" class="image-viewer-modal">
      <div class="image-viewer-content">
        <button class="close-button" (click)="closeImageViewer()">
          <i class="fas fa-times"></i>
        </button>
        <img [src]="selectedImageUrl" class="full-view-image" alt="Selected Image">
      </div>
    </div>
  </div>
</div>
